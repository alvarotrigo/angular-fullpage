{"version":3,"file":"fullpage-angular-fullpage.umd.js","sources":["../../../../src/angular-fullpage/lib/fullpage.directive.ts","../../../../src/angular-fullpage/lib/angular-fullpage.module.ts","../../../../src/angular-fullpage/public_api.ts","../../../../src/angular-fullpage/fullpage-angular-fullpage.ts"],"sourcesContent":["import { Directive, Input, AfterViewInit, OnDestroy, Output, EventEmitter, Renderer2, HostListener, PLATFORM_ID, Inject } from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\n\ndeclare let fullpage: any;\n\n@Directive({\n  selector: '[fullpage]',\n})\nexport class FullpageDirective implements AfterViewInit, OnDestroy {\n  @Input() id;\n  @Input() options;\n  @Output() ref = new EventEmitter();\n  fullpageApi;\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private renderer: Renderer2\n  ) { }\n\n  ngAfterViewInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.initFullpage();\n    }\n    if (isPlatformServer(this.platformId)) {\n      // server side code\n    }\n  }\n\n  initFullpage() {\n    console.log(\"fullpage\", fullpage);\n    this.fullpageApi = new fullpage('#' + this.id, this.options);\n    this.addBuildFunction();\n    this.ref.emit(this.fullpageApi);\n  }\n\n  addBuildFunction() {\n    this.fullpageApi.build = () => {\n      const activeSection = this.fullpageApi.getActiveSection();\n      const activeSlide = this.fullpageApi.getActiveSlide();\n\n      this.destroyFullpage();\n\n      if (activeSection) {\n        this.renderer.addClass(activeSection.item, 'active');\n      }\n\n      if (activeSlide) {\n        this.renderer.addClass(activeSlide.item, 'active');\n      }\n\n      this.initFullpage();\n    };\n  }\n\n  destroyFullpage() {\n    if (typeof this.fullpageApi !== 'undefined' && typeof this.fullpageApi.destroy !== 'undefined') {\n      this.fullpageApi.destroy('all');\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyFullpage();\n  }\n}\n\n@Directive({\n  selector : '[href]'\n})\nexport class AnchorLinkDirective {\n  @Input() href: string;\n\n  @HostListener('click', ['$event']) onClick(event) {\n    if (this.href.length > 0 && this.href[0] === '#') {\n      event.preventDefault();\n      window.location.hash = this.href;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FullpageDirective, AnchorLinkDirective } from './fullpage.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [FullpageDirective, AnchorLinkDirective],\n  exports: [FullpageDirective, AnchorLinkDirective]\n})\nexport class AngularFullpageModule { }\n","/*\n * Public API Surface of angular-fullpage\n */\n\n/// <reference path=\"./lib/fullpage.interface.ts\" />\n\nexport * from './lib/angular-fullpage.module';\nexport * from './lib/fullpage.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","isPlatformBrowser","isPlatformServer","i0","PLATFORM_ID","Directive","Inject","Input","Output","HostListener","NgModule"],"mappings":"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"}